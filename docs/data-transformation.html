<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Data transformation | NYC Motor Vehicle Collisions</title>
  <meta name="description" content="Chapter 3 Data transformation | NYC Motor Vehicle Collisions" />
  <meta name="generator" content="bookdown 0.14 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Data transformation | NYC Motor Vehicle Collisions" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Data transformation | NYC Motor Vehicle Collisions" />
  
  
  

<meta name="author" content="Mike Yao-Yi Wang. Qiang Zhao, Wangzhi Li, and Weixi Yao" />


<meta name="date" content="2019-12-12" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-sources.html"/>
<link rel="next" href="missing-values.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<link href="libs/dygraphs-1.1.1/dygraph.css" rel="stylesheet" />
<script src="libs/dygraphs-1.1.1/dygraph-combined.js"></script>
<script src="libs/dygraphs-1.1.1/shapes.js"></script>
<script src="libs/moment-2.8.4/moment.js"></script>
<script src="libs/moment-timezone-0.2.5/moment-timezone-with-data.js"></script>
<script src="libs/moment-fquarter-1.0.0/moment-fquarter.min.js"></script>
<script src="libs/dygraphs-binding-1.1.1.6/dygraphs.js"></script>



<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">NYC Collisions</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Before we start:</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#motivation---why-do-we-pick-this-topic"><i class="fa fa-check"></i><b>1.1</b> Motivation - Why do we pick this topic?</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#objective---what-is-the-main-takeaway-we-want-you-to-get-out-of-this-project"><i class="fa fa-check"></i><b>1.2</b> Objective - What is the main takeaway we want you to get out of this project?</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#value---why-do-we-believe-that-using-nyc-collision-data-to-answer-our-questions-is-meaningful"><i class="fa fa-check"></i><b>1.3</b> Value - Why do we believe that using NYC collision data to answer our questions is meaningful?</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#project-outline"><i class="fa fa-check"></i><b>1.4</b> Project Outline</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#repository-link"><i class="fa fa-check"></i><b>1.5</b> Repository Link</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data sources</a><ul>
<li class="chapter" data-level="2.1" data-path="data-sources.html"><a href="data-sources.html#motor-vehicle-collisions---crashes"><i class="fa fa-check"></i><b>2.1</b> Motor Vehicle Collisions - Crashes</a></li>
<li class="chapter" data-level="2.2" data-path="data-sources.html"><a href="data-sources.html#temperature-data"><i class="fa fa-check"></i><b>2.2</b> Temperature Data:</a></li>
<li class="chapter" data-level="2.3" data-path="data-sources.html"><a href="data-sources.html#precipitation-data"><i class="fa fa-check"></i><b>2.3</b> Precipitation Data:</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>3</b> Data transformation</a><ul>
<li class="chapter" data-level="3.1" data-path="data-transformation.html"><a href="data-transformation.html#dataset-combining"><i class="fa fa-check"></i><b>3.1</b> Dataset combining:</a></li>
<li class="chapter" data-level="3.2" data-path="data-transformation.html"><a href="data-transformation.html#sanity-check-on-location-data"><i class="fa fa-check"></i><b>3.2</b> Sanity check on location data:</a></li>
<li class="chapter" data-level="3.3" data-path="data-transformation.html"><a href="data-transformation.html#dataframe-subsetting"><i class="fa fa-check"></i><b>3.3</b> Dataframe subsetting</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing values</a><ul>
<li class="chapter" data-level="4.1" data-path="missing-values.html"><a href="missing-values.html#motor_vehicle_collisions---crashes"><i class="fa fa-check"></i><b>4.1</b> Motor_Vehicle_Collisions - Crashes</a><ul>
<li class="chapter" data-level="4.1.1" data-path="missing-values.html"><a href="missing-values.html#column-pattern"><i class="fa fa-check"></i><b>4.1.1</b> Column pattern</a></li>
<li class="chapter" data-level="4.1.2" data-path="missing-values.html"><a href="missing-values.html#row-pattern"><i class="fa fa-check"></i><b>4.1.2</b> Row pattern</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results</a><ul>
<li class="chapter" data-level="5.1" data-path="results.html"><a href="results.html#geographical-insights"><i class="fa fa-check"></i><b>5.1</b> Geographical Insights</a><ul>
<li class="chapter" data-level="5.1.1" data-path="results.html"><a href="results.html#number-of-collisions"><i class="fa fa-check"></i><b>5.1.1</b> Number of Collisions</a></li>
<li class="chapter" data-level="5.1.2" data-path="results.html"><a href="results.html#number-of-deaths-and-injuries"><i class="fa fa-check"></i><b>5.1.2</b> Number of Deaths and Injuries</a></li>
<li class="chapter" data-level="5.1.3" data-path="results.html"><a href="results.html#vehicle-type"><i class="fa fa-check"></i><b>5.1.3</b> Vehicle Type</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="results.html"><a href="results.html#number-of-collisions-per-day"><i class="fa fa-check"></i><b>5.2</b> Number of Collisions per Day</a></li>
<li class="chapter" data-level="5.3" data-path="results.html"><a href="results.html#number-of-collisions-per-month"><i class="fa fa-check"></i><b>5.3</b> Number of Collisions per Month</a></li>
<li class="chapter" data-level="5.4" data-path="results.html"><a href="results.html#number-of-collisions-per-month-by-year"><i class="fa fa-check"></i><b>5.4</b> Number of Collisions per Month by Year</a></li>
<li class="chapter" data-level="5.5" data-path="results.html"><a href="results.html#bar-chart-of-contribution-factor"><i class="fa fa-check"></i><b>5.5</b> Bar Chart of contribution factor</a></li>
<li class="chapter" data-level="5.6" data-path="results.html"><a href="results.html#correlation-analysis"><i class="fa fa-check"></i><b>5.6</b> Correlation analysis</a></li>
<li class="chapter" data-level="5.7" data-path="results.html"><a href="results.html#rush-hour"><i class="fa fa-check"></i><b>5.7</b> Rush Hour</a></li>
<li class="chapter" data-level="5.8" data-path="results.html"><a href="results.html#precipitation"><i class="fa fa-check"></i><b>5.8</b> Precipitation</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>6</b> Interactive component</a></li>
<li class="chapter" data-level="7" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>7</b> Conclusion</a><ul>
<li class="chapter" data-level="7.1" data-path="conclusion.html"><a href="conclusion.html#limitation-of-this-analysis"><i class="fa fa-check"></i><b>7.1</b> Limitation of this analysis</a></li>
<li class="chapter" data-level="7.2" data-path="conclusion.html"><a href="conclusion.html#future-directions"><i class="fa fa-check"></i><b>7.2</b> Future directions</a></li>
<li class="chapter" data-level="7.3" data-path="conclusion.html"><a href="conclusion.html#lesson-learned"><i class="fa fa-check"></i><b>7.3</b> Lesson learned</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">NYC Motor Vehicle Collisions</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-transformation" class="section level1">
<h1><span class="header-section-number">Chapter 3</span> Data transformation</h1>
<p>We mainly focus on the following aspects of transforming the raw data into forms that we could work with in R:</p>
<div id="dataset-combining" class="section level2">
<h2><span class="header-section-number">3.1</span> Dataset combining:</h2>
<p>Making pivot tables provides a solution to work with datasets of different granularity.
For example, when working with daily collision data with monthly weather data, we first use group_by() to group the daily collision data into monthly data and then combine grouped collision data with weather data for further analysis and visualization.</p>
</div>
<div id="sanity-check-on-location-data" class="section level2">
<h2><span class="header-section-number">3.2</span> Sanity check on location data:</h2>
<p>Due to potential technical failures, some location data, recorded in longitude and latitude, locate outside of New York City and get removed from the dataset.</p>
<p>Feature engineering</p>
<p>Due to potential recording failures, some features contain obviously duplicate factors. For example, the “vehicle type” feature erroneously splits the factor “taxi” into two separate factors “Taxi” and “TAXI” and we manually combine these two factors into one single factor, for the purpose of analysis.</p>
</div>
<div id="dataframe-subsetting" class="section level2">
<h2><span class="header-section-number">3.3</span> Dataframe subsetting</h2>
<p>While performing some analysis work, we tend to work with small subsets instead of the entire dataset, in order to be clean and fast.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-sources.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="missing-values.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/SafeguardLi/EDAV_final_car_collisions/edit/master/03-cleaning.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>

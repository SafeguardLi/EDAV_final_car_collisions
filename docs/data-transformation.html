<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Data transformation | NYC Motor Vehicle Collisions</title>
  <meta name="description" content="Chapter 3 Data transformation | NYC Motor Vehicle Collisions" />
  <meta name="generator" content="bookdown 0.16 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Data transformation | NYC Motor Vehicle Collisions" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Data transformation | NYC Motor Vehicle Collisions" />
  
  
  

<meta name="author" content="Mike Yao-Yi Wang. Qiang Zhao, Wangzhi Li, and Weixi Yao" />


<meta name="date" content="2019-11-27" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-sources.html"/>
<link rel="next" href="missing-values.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />












<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">SHORT TITLE HERE</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#project-objective"><i class="fa fa-check"></i><b>1.1</b> Project Objective</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#background"><i class="fa fa-check"></i><b>1.2</b> Background</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#project-outline"><i class="fa fa-check"></i><b>1.3</b> Project Outline</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data sources</a><ul>
<li class="chapter" data-level="2.1" data-path="data-sources.html"><a href="data-sources.html#motor-vehicle-collisions---crashes"><i class="fa fa-check"></i><b>2.1</b> Motor Vehicle Collisions - Crashes</a></li>
<li class="chapter" data-level="2.2" data-path="data-sources.html"><a href="data-sources.html#temperature-data"><i class="fa fa-check"></i><b>2.2</b> Temperature Data:</a></li>
<li class="chapter" data-level="2.3" data-path="data-sources.html"><a href="data-sources.html#humidity-data"><i class="fa fa-check"></i><b>2.3</b> Humidity Data:</a></li>
<li class="chapter" data-level="2.4" data-path="data-sources.html"><a href="data-sources.html#snow-data"><i class="fa fa-check"></i><b>2.4</b> Snow Data:</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>3</b> Data transformation</a><ul>
<li class="chapter" data-level="3.1" data-path="data-transformation.html"><a href="data-transformation.html#dataset-combining"><i class="fa fa-check"></i><b>3.1</b> Dataset combining:</a></li>
<li class="chapter" data-level="3.2" data-path="data-transformation.html"><a href="data-transformation.html#sanity-check-on-location-data"><i class="fa fa-check"></i><b>3.2</b> Sanity check on location data:</a></li>
<li class="chapter" data-level="3.3" data-path="data-transformation.html"><a href="data-transformation.html#dataframe-subsetting"><i class="fa fa-check"></i><b>3.3</b> Dataframe subsetting</a></li>
<li class="chapter" data-level="3.4" data-path="data-transformation.html"><a href="data-transformation.html#missing-value-cleaning"><i class="fa fa-check"></i><b>3.4</b> Missing value cleaning</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing values</a><ul>
<li class="chapter" data-level="4.1" data-path="missing-values.html"><a href="missing-values.html#snow-missing-pattern"><i class="fa fa-check"></i><b>4.1</b> snow missing pattern</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results</a></li>
<li class="chapter" data-level="6" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>6</b> Interactive component</a></li>
<li class="chapter" data-level="7" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>7</b> Conclusion</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">NYC Motor Vehicle Collisions</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-transformation" class="section level1">
<h1><span class="header-section-number">Chapter 3</span> Data transformation</h1>
<p>We mainly focus on the following aspects of transforming the raw data into forms that we could work with in R:</p>
<div id="dataset-combining" class="section level2">
<h2><span class="header-section-number">3.1</span> Dataset combining:</h2>
<p>Making pivot tables provides a solution to work with datasets of different granularity.
For example, when working with daily collision data with monthly weather data, we first use group_by() to group the daily collision data into monthly data and then combine grouped collision data with weather data for further analysis and visualization.</p>
</div>
<div id="sanity-check-on-location-data" class="section level2">
<h2><span class="header-section-number">3.2</span> Sanity check on location data:</h2>
<p>Due to potential technical failures, some location data, recorded in longitude and latitude, locate outside of New York City and get removed from the dataset.
Feature engineering</p>
<p>Due to potential recording failures, some features contain obviously duplicate factors. For example, the “vehicle type” feature erroneously splits the factor “taxi” into two separate factors “Taxi” and “TAXI” and we manually combine these two factors into one single factor, for the purpose of analysis.</p>
</div>
<div id="dataframe-subsetting" class="section level2">
<h2><span class="header-section-number">3.3</span> Dataframe subsetting</h2>
<p>While performing some analysis work, we tend to work with small subsets instead of the entire dataset, in order to be clean and fast.</p>
</div>
<div id="missing-value-cleaning" class="section level2">
<h2><span class="header-section-number">3.4</span> Missing value cleaning</h2>
<p>Since detailed patterns we discover in missing values will be discussed in the next chapter, we are only discussing example of the ways we handle these missing values in transforming data.
Most missing values happen in location and weather data. In working with missing location and weather data, we mainly follow the proximity rule. For example, if a particular month is missing the snowfall data, we fill it using the average snowfall of one month before and one month after such month.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-sources.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="missing-values.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/YOUR GITHUB USERNAME/YOUR REPO NAME/edit/master/03-cleaning.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/YOUR GITHUB USERNAME/YOUR REPO NAME/blob/master/03-cleaning.Rmd",
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
